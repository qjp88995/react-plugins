(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{117:function(e,t,a){e.exports={wrapper:"wrapper_wrapper__H-Wdl",btn:"wrapper_btn__2OIyM",book:"wrapper_book__1FUTQ","book-front":"wrapper_book-front__2mson","book-download":"wrapper_book-download__3g8La","book-page":"wrapper_book-page__2UsvI","book-page-1":"wrapper_book-page-1__2IPt1","book-page-2":"wrapper_book-page-2__2qNS9","book-page-3":"wrapper_book-page-3__3PRVo","book-page-4":"wrapper_book-page-4__BALlu","book-page-5":"wrapper_book-page-5__r2uQ_","book-back":"wrapper_book-back__39Slx"}},118:function(e,t,a){e.exports={wrapper:"wrapper1_wrapper__4Q4bP",btn:"wrapper1_btn__206P5",book:"wrapper1_book__2qt1K","book-front":"wrapper1_book-front__2Q3gL","book-download":"wrapper1_book-download__38Agh","book-page":"wrapper1_book-page__2_7P1","book-page-1":"wrapper1_book-page-1__YPPP8","book-page-2":"wrapper1_book-page-2__qZB6q","book-page-3":"wrapper1_book-page-3__2Obgx","book-page-4":"wrapper1_book-page-4__2JioP","book-page-5":"wrapper1_book-page-5__3RQr8","book-back":"wrapper1_book-back__3F8Iv"}},119:function(e,t,a){e.exports={wrapper:"wrapper2_wrapper__3pE_6",btn:"wrapper2_btn__1iQys",book:"wrapper2_book__1ocpf","book-front":"wrapper2_book-front__2En6l","book-page":"wrapper2_book-page__2xPXF","book-page-1":"wrapper2_book-page-1__22PQU","book-page-2":"wrapper2_book-page-2__289MV","book-page-3":"wrapper2_book-page-3__2qyQ_","book-page-4":"wrapper2_book-page-4__3b4g7","book-page-5":"wrapper2_book-page-5__3K6Tl","book-back":"wrapper2_book-back__2wnF2"}},120:function(e,t,a){e.exports={container:"Canvas_container__1UYW0"}},127:function(e,t,a){},133:function(e,t){},134:function(e,t){},210:function(e,t){},212:function(e,t){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(113),c=a.n(r),l=(a(127),a(2)),i=a(73),s=a(69),u=a.n(s),p=a(28),m=a.n(p);var d=function(e){var t=e.width,a=void 0===t?"100%":t,n=e.height,r=void 0===n?300:n;return o.a.createElement("div",null,o.a.createElement("h2",null,"\u8f6e\u64ad\u56fe"),o.a.createElement("div",{className:m.a.carousel,style:{width:a,height:r}},o.a.createElement("div",{className:m.a.container},o.a.createElement("div",{className:m.a.item,style:{display:"block",backgroundColor:"green"}}),o.a.createElement("div",{className:m.a.item,style:{display:"none",backgroundColor:"blue"}}),o.a.createElement("div",{className:m.a.item,style:{display:"none",backgroundColor:"red"}}))))},f=a(122),h=a(75),v=a(8),b=a.n(v),g=a(21),_=a(6),w=a(4),y=a(70),E=a.n(y),k=a(53),x=a.n(k),O=["index_type","item_type","majors","code","content","evaluation_score","score_code"],j=function(){var e=Object(n.useState)("".concat("/react-plugins","/test.xlsx")),t=Object(w.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),l=Object(w.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)([]),p=Object(w.a)(u,2),m=p[0],d=p[1],v=Object(n.useState)([]),y=Object(w.a)(v,2),k=y[0],j=y[1],S=Object(n.useState)(""),C=Object(w.a)(S,2),M=C[0],A=C[1],N=Object(n.useState)(""),L=Object(w.a)(N,2),P=L[0],B=L[1],I=Object(n.useState)(""),D=Object(w.a)(I,2),W=D[0],F=D[1];var T=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){if(!e.ok)throw new Error("fetch failed");return e.arrayBuffer()})).then((function(e){var t=new Uint8Array(e),a=E.a.read(t,{type:"array"}),n=E.a.utils.sheet_to_json(a.Sheets[a.SheetNames[0]],{defval:null}),o=n.shift();return{contentColSpan:Object.keys(o).filter((function(e){return/^content/.test(e)})).length,data:n}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(g.a)(b.a.mark((function e(){var t,n,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return e.next=3,T(a);case 3:t=e.sent,n=t.contentColSpan,o=t.data,s(n),d(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=k.filter((function(e){return e.index_type.includes(M)&&e.item_type.includes(P)&&e.majors.includes(W)})).map((function(e,t,a){var n=e.row,o=Object(h.a)(e,["row"]),r=Object(f.a)(n);return 0!==t&&a[t-1].index_type===o.index_type||"index_type"!==n[0].type&&r.splice(0,0,{text:o.index_type,rowSpan:1,colSpan:1,type:"index_type"}),0!==t&&a[t-1].index_type===o.index_type&&a[t-1].item_type===o.item_type||("index_type"===r[0].type&&"item_type"!==r[1].type?r.splice(1,0,{text:o.item_type,rowSpan:1,colSpan:1,type:"item_type"}):"index_type"!==n[0].type&&"item_type"!==n[0].type&&r.splice(0,0,{text:o.item_type,rowSpan:1,colSpan:1,type:"item_type"})),Object(_.a)({row:r},o)})).map((function(e,t,a){var n=e.row,o=Object(h.a)(e,["row"]),r=n.map((function(e){return"index_type"===e.type?Object(_.a)(Object(_.a)({},e),{},{rowSpan:a.filter((function(e){return e.index_type.includes(o.index_type)})).length}):"item_type"===e.type?Object(_.a)(Object(_.a)({},e),{},{rowSpan:a.filter((function(e){return e.index_type.includes(o.index_type)&&e.item_type.includes(o.item_type)})).length}):e}));return Object(_.a)({row:r},o)}));return console.log(R),o.a.createElement("div",null,o.a.createElement("h2",null,"xlsx\u6587\u4ef6\u8f6cjson"),o.a.createElement("div",{className:x.a.form},o.a.createElement("input",{type:"text",value:a,onChange:function(e){return r(e.target.value.trim())}}),o.a.createElement("button",{onClick:X,style:{marginLeft:10}},"xlsx\u8f6c\u6362"),o.a.createElement("button",{onClick:function(){var e=[],t={majors:"",index_type:"",item_type:""};m.forEach((function(a,n){var o=[];O.forEach((function(e){switch(e){case"content":var r=Object.keys(a).filter((function(e){return/^content_\d+$/.test(e)})).sort(),c=r.every((function(e){return!a[e]}));if(a[e]){var l={text:a[e],rowSpan:1,colSpan:1,type:"content"};for(c&&(l.colSpan=i);m[n+l.rowSpan]&&!m[n+l.rowSpan].code;)l.rowSpan+=1;o.push(l)}c||r.forEach((function(e){a[e]&&function(){var t={text:a[e],rowSpan:1,colSpan:1,type:"content_child"},c=r.filter((function(t){return t>e}));c.every((function(e){return!a[e]}))&&(t.colSpan+=c.length);for(var l=r.filter((function(t){return t<=e}));m[n+t.rowSpan]&&!m[n+t.rowSpan].code&&l.every((function(e){return!m[n+t.rowSpan][e]}));)t.rowSpan+=1;o.push(t)}()}));break;default:var s={text:a[e],rowSpan:1,colSpan:1,type:e};if(a[e]){if("code"===e&&(t.majors=a.majors||""),"index_type"===e&&(t.index_type=a.index_type||""),"item_type"===e&&(t.item_type=a.item_type||""),"majors"===e)for(;m[n+s.rowSpan]&&!m[n+s.rowSpan].code;)s.rowSpan+=1;else for(;m[n+s.rowSpan]&&!m[n+s.rowSpan][e];)s.rowSpan+=1;"score_code"===e&&(s.score_options=a.score_options?a.score_options.split(","):[],s.score_majors=a.score_majors?a.score_majors.split(","):[],s.reject_score_codes=a.reject_score_codes?a.reject_score_codes.split(","):[]),o.push(s)}else if("majors"===e&&a.code){for(;m[n+s.rowSpan]&&!m[n+s.rowSpan].code;)s.rowSpan+=1;o.push(s)}}})),e.push(Object(_.a)({row:o},t))})),console.log(e),j(e)},style:{marginLeft:10}},"table\u8f6c\u6362")),o.a.createElement("div",{className:x.a.filter},o.a.createElement("label",{htmlFor:"index_type",style:{marginLeft:10}},"\u6307\u6807\u7c7b\u522b"),o.a.createElement("select",{name:"index_type",id:"index_type",value:M,onChange:function(e){return A(e.target.value)},style:{marginLeft:10}},o.a.createElement("option",{value:""},"\u5168\u90e8"),o.a.createElement("option",{value:"\u5b89\u5168\u8010\u4e45"},"\u5b89\u5168\u8010\u4e45"),o.a.createElement("option",{value:"\u5065\u5eb7\u8212\u9002"},"\u5065\u5eb7\u8212\u9002"),o.a.createElement("option",{value:"\u751f\u6d3b\u4fbf\u5229"},"\u751f\u6d3b\u4fbf\u5229"),o.a.createElement("option",{value:"\u8d44\u6e90\u8282\u7ea6"},"\u8d44\u6e90\u8282\u7ea6"),o.a.createElement("option",{value:"\u73af\u5883\u5b9c\u5c45"},"\u73af\u5883\u5b9c\u5c45"),o.a.createElement("option",{value:"\u63d0\u9ad8\u521b\u65b0"},"\u63d0\u9ad8\u521b\u65b0")),o.a.createElement("label",{htmlFor:"item_type",style:{marginLeft:10}},"\u5b50\u9879"),o.a.createElement("select",{name:"item_type",id:"item_type",value:P,onChange:function(e){return B(e.target.value)},style:{marginLeft:10}},o.a.createElement("option",{value:""},"\u5168\u90e8"),o.a.createElement("option",{value:"\u63a7\u5236\u9879"},"\u63a7\u5236\u9879"),o.a.createElement("option",{value:"\u8bc4\u5206\u9879"},"\u8bc4\u5206\u9879")),o.a.createElement("label",{htmlFor:"majors",style:{marginLeft:10}},"\u4e13\u4e1a"),o.a.createElement("select",{name:"majors",id:"majors",value:W,onChange:function(e){return F(e.target.value)},style:{marginLeft:10}},o.a.createElement("option",{value:""},"\u5168\u90e8"),o.a.createElement("option",{value:"\u5efa\u7b51"},"\u5efa\u7b51"),o.a.createElement("option",{value:"\u7ed3\u6784"},"\u7ed3\u6784"),o.a.createElement("option",{value:"\u7ed9\u6392\u6c34"},"\u7ed9\u6392\u6c34"),o.a.createElement("option",{value:"\u6696\u901a"},"\u6696\u901a"),o.a.createElement("option",{value:"\u7535\u6c14"},"\u7535\u6c14"))),o.a.createElement("div",null,o.a.createElement("table",{className:x.a.table},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"\u6307\u6807\u7c7b\u522b"),o.a.createElement("th",null,"\u5b50\u9879"),o.a.createElement("th",null,"\u6761\u6587\u4e13\u4e1a"),o.a.createElement("th",null,"\u6761\u6587\u7f16\u53f7"),o.a.createElement("th",null,"\u6761\u6587\u5185\u5bb9"),o.a.createElement("th",{colSpan:i-1},"\u8bc4\u4ef7\u5185\u5bb9"),o.a.createElement("th",null,"\u8bc4\u4ef7\u6863\u6b21"),o.a.createElement("th",null,"\u5206\u503c\u7f16\u53f7"))),o.a.createElement("tbody",null,Array.isArray(R)&&R.map((function(e,t){return o.a.createElement("tr",{key:t},e.row.map((function(e,t){return o.a.createElement("td",{key:t,rowSpan:e.rowSpan,colSpan:e.colSpan},e.text)})))}))))))},S=a(114),C=function(){var e=Object(n.useState)("My name is {{name}}"),t=Object(w.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)('{ "name": "Json" }'),l=Object(w.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(""),p=Object(w.a)(u,2),m=p[0],d=p[1];return o.a.createElement("div",null,o.a.createElement("h2",null,"art-template\u6a21\u677f\u66ff\u6362"),o.a.createElement("p",null,o.a.createElement("span",{style:{verticalAlign:"top"}},"\u6a21\u677f\uff1a"),o.a.createElement("textarea",{style:{verticalAlign:"top"},cols:"30",rows:"10",value:a,onChange:function(e){return r(e.target.value)}})),o.a.createElement("p",null,o.a.createElement("span",{style:{verticalAlign:"top"}},"\u6570\u636e\uff1a"),o.a.createElement("textarea",{style:{verticalAlign:"top"},cols:"30",rows:"10",value:i,onChange:function(e){return s(e.target.value)}})),o.a.createElement("p",null,o.a.createElement("button",{onClick:function(e){var t=JSON.parse(i),n=Object(S.render)(a,t);console.log(t),d(n)}},"\u8f93\u51fa")),o.a.createElement("p",{style:{border:"1px solid #ccc",minHeight:100,padding:20,whiteSpace:"pre-wrap"}},m))},M=a(34),A=a(52),N=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"docx\u63d2\u4ef6\u751f\u6210.docx\u6587\u4ef6"),o.a.createElement("p",null,o.a.createElement("button",{onClick:function(e){e.preventDefault();var t=new M.Document;t.addSection({size:{width:"297mm",height:"420mm",orientation:M.PageOrientation.LANDSCAPE},children:new Array(100).fill(new M.Paragraph("\u8fd9\u662f\u4e00\u4e2a\u6bb5\u843d\uff01")),properties:{column:{count:2}}}),M.Packer.toBlob(t).then((function(e){Object(A.saveAs)(e,"\u6d4b\u8bd5\u6587\u6863.docx")}))}},"\u8f93\u51fadocx")))},L=a(115),P=a.n(L),B=function(){var e=Object(n.useState)(),t=Object(w.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),l=Object(w.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(""),p=Object(w.a)(u,2),m=p[0],d=p[1],f=Object(n.createRef)(),h=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,o,r,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.file,n=t.replaceContent,o=t.saveName,e.next=3,P.a.loadAsync(a);case 3:return r=e.sent,e.next=6,r.file("word/document.xml").async("text");case 6:return c=e.sent,r.file("word/document.xml",n?n(c):c),e.next=10,r.generateAsync({type:"blob"});case 10:l=e.sent,Object(A.saveAs)(l,o||"".concat(Date.now(),".docx"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(t.target.value&&t.target.files&&t.target.files[0])){e.next=6;break}if("application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t.target.files[0].type){e.next=4;break}return e.abrupt("return",console.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef\uff0c\u4ec5\u652f\u6301.docx\u6587\u4ef6"));case 4:console.log(t.target.files[0]),r(t.target.files[0]);case 6:t.target.value="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("h2",null,"docx\u6587\u4ef6\u5185\u5bb9\u66ff\u6362"),o.a.createElement("p",null,"\u4e0a\u4f20\u4e00\u4e2adocx\u6587\u4ef6\uff0c\u5c06\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u66ff\u6362\uff0c\u7136\u540e\u5bfc\u51fa\u65b0\u7684docx\u6587\u4ef6"),o.a.createElement("p",null,o.a.createElement("input",{ref:f,style:{display:"none"},type:"file",accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:v}),o.a.createElement("button",{onClick:function(e){e.preventDefault(),f.current.click()}},"\u4e0a\u4f20\u6587\u4ef6"),o.a.createElement("span",null,a&&a.name)),o.a.createElement("p",null,"\u67e5\u627e\uff1a",o.a.createElement("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)}})),o.a.createElement("p",null,"\u66ff\u6362\uff1a",o.a.createElement("input",{type:"text",value:m,onChange:function(e){return d(e.target.value)}})),o.a.createElement("p",null,o.a.createElement("button",{onClick:function(e){if(e.preventDefault(),a){h({file:a,replaceContent:function(e){return e&&i?e.replace(i,m||""):e},saveName:"\u6d4b\u8bd5.docx"})}}},"\u5bfc\u51faword")))},I=a(116),D=a.n(I),W=function(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),l=Object(w.a)(c,2),i=l[0],s=l[1],u=Object(n.createRef)(),p=function(){var e=Object(g.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(t.target.value&&t.target.files&&t.target.files[0])){e.next=6;break}if("application/vnd.openxmlformats-officedocument.wordprocessingml.document"===t.target.files[0].type){e.next=4;break}return e.abrupt("return",console.error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef\uff0c\u4ec5\u652f\u6301.docx\u6587\u4ef6"));case 4:console.log(t.target.files[0]),s(t.target.files[0]);case 6:t.target.value="";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{style:{marginTop:20}},o.a.createElement("h2",null,"docx\u6587\u4ef6\u9884\u89c8"),o.a.createElement("p",null,o.a.createElement("input",{ref:u,style:{display:"none"},type:"file",accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:p}),o.a.createElement("button",{onClick:function(e){e.preventDefault(),u.current.click()}},"\u4e0a\u4f20\u6587\u4ef6"),o.a.createElement("span",null,i&&i.name)),o.a.createElement("p",null,o.a.createElement("button",{onClick:function(e){if(e.preventDefault(),i){var t=new FileReader;t.readAsArrayBuffer(i),t.onload=function(e){D.a.convertToHtml({arrayBuffer:e.target.result}).then((function(e){console.log("html: ",e.value),console.log("messages: ",e.messages),r(e.value)})).done()}}}},"\u9884\u89c8docx")),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a},style:{padding:20,minHeight:100,textAlign:"left",border:"1px solid #ccc"}}))},F=function(e){var t=e.styles,a=e.mode,n=void 0===a?"turn":a;return o.a.createElement("div",{className:t.wrapper},o.a.createElement("div",{className:t.book},o.a.createElement("div",{className:t["book-front"]},o.a.createElement("div",null,o.a.createElement("img",{src:"".concat("/react-plugins","/book-test.png"),alt:""}),"rotate"===n&&o.a.createElement("div",{className:t["book-download"]},o.a.createElement("a",{href:".#"}," \u4e0b\u8f7d "))),o.a.createElement("div",null)),o.a.createElement("div",{className:"".concat(t["book-page"]," ").concat(t["book-page-1"])}),o.a.createElement("div",{className:"".concat(t["book-page"]," ").concat(t["book-page-2"])}),o.a.createElement("div",{className:"".concat(t["book-page"]," ").concat(t["book-page-3"])}),o.a.createElement("div",{className:"".concat(t["book-page"]," ").concat(t["book-page-4"])},"turn"===n&&o.a.createElement("a",{className:t.btn,href:".#"},"\u70b9\u51fb\u4e0b\u8f7d")),o.a.createElement("div",{className:"".concat(t["book-page"]," ").concat(t["book-page-5"])}),o.a.createElement("div",{className:t["book-back"]},o.a.createElement("div",null,o.a.createElement("img",{src:"".concat("/react-plugins","/book-test.png"),alt:""})),o.a.createElement("div",null))))},T=a(117),X=a.n(T),R=a(118),U=a.n(R),Y=a(119),Q=a.n(Y),q=function(e){return o.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"row"}},o.a.createElement(F,{styles:X.a}),o.a.createElement(F,{styles:U.a,mode:"rotate"}),o.a.createElement(F,{styles:Q.a,mode:"turn"}))},z=a(29),J=a.n(z),H=function(e){return o.a.createElement("div",{className:J.a.background},o.a.createElement("div",{className:J.a.bg1}),o.a.createElement("div",{className:J.a.bg2}),o.a.createElement("div",{className:J.a.bg3}),o.a.createElement("div",{className:J.a.bg4}))},K=a(120),V=a.n(K),$=a(76),G=a(74),Z=a(24),ee=function e(){var t=this;Object(Z.a)(this,e),this.generate=function(){if(t.destroyPoor.length>0)return t.destroyPoor.pop();var e=[t.r,t.g,t.b].concat(255).join("-");if(t.b++,t.b>255&&(t.b=0,t.g++),t.g>255&&(t.g=0,t.r++),t.r>255){var a="id\u4e2a\u6570\u5df2\u8d85\u51fa\u6700\u5927\u9650\u5236";throw console.error(a),new Error(a)}return e},this.create=function(){return t.generate()},this.remove=function(e){e&&t.destroyPoor.push(e)},this.clear=function(){t.destroyPoor=[],t.r=t.g=t.b=0},this.r=this.g=this.b=0,this.destroyPoor=[]};ee.idToRgba=function(e){return e.split("-").map((function(e){return parseInt(e)}))},ee.rgbaToId=function(e){return e.join("-")};var te=function e(){var t=this;Object(Z.a)(this,e),this.add=function(e,a,n){e&&a.id&&t.list.set("".concat(a.id,".").concat(e),n)},this.remove=function(e,a){e&&a.id&&t.list.delete("".concat(a.id,".").concat(e))},this.removeAll=function(e){e.id&&Array.from(t.list.keys()).forEach((function(a){a.startsWith(e.id)&&t.list.delete(a)}))},this.clear=function(){t.list.clear()},this.list=new Map},ae=function e(t){var a=this;Object(Z.a)(this,e),this.add=function(e){var t=a.idsManager.create();a.shapes.add(e),e.id=t},this.remove=function(e){a.shapes.delete(e),a.idsManager.remove(e.id),a.eventsManager.removeAll(e)},this.clear=function(e){a.shapes.clear(),a.idsManager.clear(),a.eventsManager.clear()},this.resize=function(e,t){a.canvas.width=e,a.canvas.height=t,a.oCanvas.width=e,a.oCanvas.height=t},this.render=function(){Array.from(a.shapes).forEach((function(e){e.render(a.ctx,a.oCtx)}))},this.addEventListener=function(e,t,n){a.eventsManager.add(e,t,(function(e){return n(e,t)}))},this.removeEventListener=function(e,t){a.eventsManager.remove(e,t)},this.getEventId=function(e){var t=a.canvas.getBoundingClientRect(),n=e.clientX-t.x,o=e.clientY-t.y,r=a.oCtx.getImageData(n,o,1,1).data;return ee.rgbaToId(r)},this.onClick=function(e){var t=a.getEventId(e);Array.from(a.eventsManager.list.keys()).forEach((function(n){n==="".concat(t,".click")&&a.eventsManager.list.get(n)(e)}))},this.onMouseDown=function(e){e.target.setCapture&&e.target.setCapture();var t=a.getEventId(e);Array.from(a.eventsManager.list.keys()).forEach((function(n){n==="".concat(t,".mouseDown")&&a.eventsManager.list.get(n)(e)}))},this.onMouseUp=function(e){var t=a.getEventId(e);Array.from(a.eventsManager.list.keys()).forEach((function(n){n==="".concat(t,".mouseUp")&&a.eventsManager.list.get(n)(e)}))},this.onMouseMove=function(e){var t=a.getEventId(e);Array.from(a.eventsManager.list.keys()).forEach((function(n){var o=n.split(".").pop(".");n.startsWith(t)?["mouseMove","mouseOver","mouseEnter"].includes(o)&&a.eventsManager.list.get(n)(e):["mouseOut","mouseLeave","mouseUp"].includes(o)&&a.eventsManager.list.get(n)(e)}))},this.onMouseOut=function(e){Array.from(a.eventsManager.list.keys()).forEach((function(t){var n=t.split(".").pop(".");["mouseOut","mouseLeave","mouseUp"].includes(n)&&a.eventsManager.list.get(t)(e)}))},this.canvas=t,window.OffscreenCanvas?this.oCanvas=new window.OffscreenCanvas(this.canvas.width,this.canvas.height):(this.oCanvas=document.createElement("canvas"),this.oCanvas.width=this.canvas.width,this.oCanvas.height=this.canvas.height),this.ctx=this.canvas.getContext("2d"),this.oCtx=this.oCanvas.getContext("2d"),this.shapes=new Set,this.idsManager=new ee,this.eventsManager=new te(this.oCtx),this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("mouseup",this.onMouseUp),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseout",this.onMouseOut)},ne=function e(t){var a=this;Object(Z.a)(this,e),this.setOptions=function(e){a.options=Object(_.a)(Object(_.a)({},a.options),e)},this.render=function(e,t){if(a.draw&&(e.save(),a.draw(e),a.options.lineWidth&&a.options.strokeStyle&&e.stroke(),a.options.fillStyle&&e.fill(),e.restore(),a.id)){var n="rgba(".concat(ee.idToRgba(a.id).toString(),")");t.save(),a.draw(t,{fillStyle:n,strokeStyle:n,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}),a.options.lineWidth&&a.options.strokeStyle&&t.stroke(),a.options.fillStyle&&t.fill(),t.restore()}},this.id=null,this.draw=null,this.options=Object(_.a)({x:0,y:0,fillStyle:"#000",strokeStyle:"#000",lineWidth:0,globalCompositeOperation:"source-over",shadowColor:"#000",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},t)},oe=function(e){Object($.a)(a,e);var t=Object(G.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).draw=function(e,t){t=Object(_.a)(Object(_.a)({},n.options),t),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.width,t.y),e.lineTo(t.x+t.width,t.y+t.height),e.lineTo(t.x,t.y+t.height),e.closePath(),e.lineWidth=t.lineWidth,e.strokeStyle=t.strokeStyle,e.fillStyle=t.fillStyle,e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY},n.options=Object(_.a)({width:100,height:100},n.options),n}return a}(ne),re=function(e){Object($.a)(a,e);var t=Object(G.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).draw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=Object(_.a)(Object(_.a)({},n.options),t),e.beginPath(),e.arc(t.x,t.y,t.radius,t.sAngle,t.eAngle),e.lineWidth=t.lineWidth,e.strokeStyle=t.strokeStyle,e.fillStyle=t.fillStyle,e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY},n.options=Object(_.a)({radius:10,sAngle:0,eAngle:2*Math.PI},n.options),n}return a}(ne),ce=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=Object(n.useRef)(null);Object(n.useEffect)((function(){if(t){var e=new ae(t.current);r.current=e;var n=new oe({x:0,y:0});e.add(n);var o=new re({fillStyle:"#FF4500",radius:30,shadowColor:"yellow",shadowBlur:20});e.add(o);var c=new re({fillStyle:null,strokeStyle:"rgba(255, 255, 255, 0.5)",lineWidth:1,radius:200});e.add(c);var l=new re({fillStyle:"green",radius:15,shadowColor:"green",shadowBlur:10});e.add(l);var i=0,s=1,u=1;e.addEventListener("mouseDown",o,(function(e,t){t.setOptions({shadowBlur:10})})),e.addEventListener("mouseUp",o,(function(e,t){t.setOptions({shadowBlur:20})})),e.addEventListener("click",o,(function(e,t){u=u?0:1})),e.addEventListener("mouseOver",l,(function(e,t){s=0})),e.addEventListener("mouseOut",l,(function(e,t){s=1}));var p=function r(){var p=t.current.getBoundingClientRect(),m=p.width,d=p.height;t.current.width=m,t.current.height=d,n.options.fillStyle="rgba(22, 22, 5, 1)",n.options.width=m,n.options.height=d,o.options.x=m/2,o.options.y=d/2,c.options.x=m/2,c.options.y=d/2,l.options.x=m/2+200*Math.cos(i*Math.PI/180),l.options.y=d/2+200*Math.sin(i*Math.PI/180),((i=u?i+s:i-s)<-360||i>360)&&(i=0),e.resize(m,d),e.render(),a.current=requestAnimationFrame(r)};return null===a.current&&(a.current=requestAnimationFrame(p)),function(){return a.current&&cancelAnimationFrame(a.current),void(a.current=null)}}}),[]);return o.a.createElement("div",{className:V.a.container,style:{position:"relative"}},o.a.createElement("canvas",{ref:t,style:{width:"100%",height:"100%"}}),o.a.createElement("div",{style:{position:"absolute",bottom:0}},o.a.createElement("button",null,"\u7ed8\u5236"),o.a.createElement("button",{onClick:function(){r.current&&r.current.clear()}},"\u6e05\u7a7a")))},le=function(e){var t=e.to,a=e.label,n=e.activeOnlyWhenExact,r=Object(l.g)({path:t,exact:n});return o.a.createElement("li",{className:r?u.a.active:""},o.a.createElement(i.b,{to:t},a))};var ie=function(){var e=[{path:"/carousel",title:"Carousel",component:d},{path:"/xlsx2json",title:"Xlsx2json",component:j},{path:"/art-template",title:"ArtTemplate",component:C},{path:"/docx",title:"Docx",component:N},{path:"/jszip",title:"Jszip",component:B},{path:"/docx-previewer",title:"DocxPreviewer",component:W},{path:"/book",title:"Book",component:q},{path:"/background",title:"Background",component:H},{path:"/canvas",title:"Canvas",component:ce}];return o.a.createElement(i.a,{basename:"/react-plugins"},o.a.createElement("div",{className:u.a.app},o.a.createElement("nav",null,o.a.createElement("ul",null,e.map((function(e){return o.a.createElement(le,{key:e.path,to:e.path,label:e.title})})))),o.a.createElement("main",null,o.a.createElement(l.d,null,e.map((function(e){return o.a.createElement(l.b,{key:e.path,path:e.path},o.a.createElement(e.component,null))})),o.a.createElement(l.b,{path:"/",exact:!0,render:function(){return o.a.createElement(l.a,{to:e[0].path})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){e.exports={carousel:"Carousel_carousel__3iif3",container:"Carousel_container__il8GN",item:"Carousel_item__XTzEJ"}},29:function(e,t,a){e.exports={background:"Background_background__NFiWl",bg1:"Background_bg1__3Xy7o"}},53:function(e,t,a){e.exports={form:"Xlsx2json_form__Ys5_v",filter:"Xlsx2json_filter__2KUj7",table:"Xlsx2json_table__19eEY"}},69:function(e,t,a){e.exports={app:"App_app__2ziFi",active:"App_active__2jQ78"}},79:function(e,t){}},[[263,1,2]]]);
//# sourceMappingURL=main.cc0f8ecc.chunk.js.map